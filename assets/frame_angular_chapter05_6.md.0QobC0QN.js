import{_ as s,o as a,c as n,a8 as l}from"./chunks/framework.QttzOlP4.js";const t="/web-docs/assets/0514.UcAiCBQR.png",e="/web-docs/assets/0515.rye8wQnP.png",g=JSON.parse('{"title":"把Directive变为一个容器transclude","description":"","frontmatter":{},"headers":[],"relativePath":"frame/angular/chapter05_6.md","filePath":"frame/angular/chapter05_6.md","lastUpdated":1711371965000}'),p={name:"frame/angular/chapter05_6.md"},o=l(`<h1 id="把directive变为一个容器transclude" tabindex="-1">把Directive变为一个容器<code>transclude</code> <a class="header-anchor" href="#把directive变为一个容器transclude" aria-label="Permalink to &quot;把Directive变为一个容器\`transclude\`&quot;">​</a></h1><p>在前面我们使用到的Directive，都会将包含有Directive的元素整体替换为<code>template</code>中的内容。这样，就让Directive的用途缩减为只能封装最低级别的元素。</p><p>但是我们使用的<code>ng-app</code>,<code>ng-controller</code>等，也同样都是Directive，而我们可以在这些元素中，直接填入HTML代码。这是如何实现的呢？这就要应用到Directive的<code>transclude</code>属性。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#BABED8;">App</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">directive</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">formDirective</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;"> function</span><span style="color:#89DDFF;"> ()</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    return</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">        restrict</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">A</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">        </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        //通过transclude标签将Directive变为一个容器</span></span>
<span class="line"><span style="color:#F07178;">        transclude</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;"> true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        //注意template中的ng-transclude，这里是放置原有代码的地方。</span></span>
<span class="line"><span style="color:#F07178;">        template</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">&lt;h1&gt;标题&lt;/h1&gt;&lt;p&gt;这里是段落文字&lt;/p&gt;&lt;div ng-transclude&gt;&lt;/div&gt;</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#C792EA;"> ng-controller</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">FirstCtrl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    &lt;</span><span style="color:#F07178;">div</span><span style="color:#C792EA;"> form-directive</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">        &lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">这段文字是放置在Directive中间的。</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    &lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>运行结果：</p><img src="`+t+'" alt="图5-14 transclude的使用"><p>查看HTML代码如下：</p><img src="'+e+'" alt="图5-15 transclude的效果HTML">',9),c=[o];function r(i,D,F,y,d,u){return a(),n("div",null,c)}const v=s(p,[["render",r]]);export{g as __pageData,v as default};
